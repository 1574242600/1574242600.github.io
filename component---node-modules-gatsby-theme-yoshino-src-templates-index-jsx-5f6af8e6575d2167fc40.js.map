{"version":3,"sources":["webpack:///./node_modules/gatsby-theme-yoshino/src/templates/index.jsx"],"names":["Home","renderPostItem","data","id","other","key","render","this","props","edges","allMarkdownRemark","description","site","siteMetadata","pageContext","className","IndexStyle","title","humanPageNumber","undefined","name","content","map","postData","node","total","numberOfPages","limit","current","pageSize","onChange","navigate","React","Component"],"mappings":"wPAQqBA,E,0GAEjBC,eAAA,SAAeC,GACX,IAAQC,EAAiBD,EAAjBC,GAAOC,EAAf,YAAyBF,EAAzB,QAEA,OAAO,wBAAIG,IAAMF,GAAK,kBAAC,IAAD,CAAUD,KAAOE,M,EAG3CE,OAAA,WAAU,IAAD,OACL,EAYIC,KAAKC,MAZT,IACIN,KAEQO,EAHZ,EAEQC,kBACID,MAIIE,EAPhB,EAKQC,KACIC,aACIF,YAIZG,EAXJ,EAWIA,YAGJ,OACI,yBAAKC,UAAYC,SACb,kBAAC,IAAD,CACIC,MACoC,IAAhCH,EAAYI,qBACNC,EADN,IAEUL,EAAYI,gBAFtB,KAKJ,0BAAME,KAAK,cAAcC,QAAUV,KAGvC,4BACMF,EAAMa,KAAI,SAACC,GAAD,OAAc,EAAKtB,eAAesB,EAASC,UAE3D,kBAAC,IAAD,CACIC,MAAQX,EAAYY,cAAgBZ,EAAYa,MAChDC,QAAUd,EAAYI,gBACtBW,SAAWf,EAAYa,MACvBZ,UAAYC,aACZc,SAAW,SAACF,GACQ,IAAZA,EAKJG,YAAS,SAASH,GAJdG,YAAS,U,GA7CHC,IAAMC","file":"component---node-modules-gatsby-theme-yoshino-src-templates-index-jsx-5f6af8e6575d2167fc40.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { graphql, navigate } from \"gatsby\";\r\nimport Pagination from \"yoshino/lib/Pagination/index\";\r\nimport * as IndexStyle from \"./style/index.module.css\";\r\nimport PostItem from \"components/index/postItem\";\r\nimport Seo from \"components/global/seo\";\r\n\r\nexport default class Home extends React.Component {\r\n\r\n    renderPostItem(data) {\r\n        const { id, ...other } = data;\r\n\r\n        return <li key={ id }><PostItem data={ other } /></li>;\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            data: {\r\n                allMarkdownRemark: {\r\n                    edges\r\n                },\r\n                site: {\r\n                    siteMetadata: {\r\n                        description\r\n                    }\r\n                }\r\n            },\r\n            pageContext\r\n        } = this.props;\r\n\r\n        return (\r\n            <div className={ IndexStyle.index }>\r\n                <Seo\r\n                    title={\r\n                        pageContext.humanPageNumber === 1\r\n                            ? undefined\r\n                            : `第${pageContext.humanPageNumber}页`\r\n                    }\r\n                >\r\n                    <meta name=\"description\" content={ description } />\r\n                </Seo>\r\n\r\n                <ol>\r\n                    { edges.map((postData) => this.renderPostItem(postData.node)) }\r\n                </ol>\r\n                <Pagination\r\n                    total={ pageContext.numberOfPages * pageContext.limit }\r\n                    current={ pageContext.humanPageNumber }\r\n                    pageSize={ pageContext.limit }\r\n                    className={ IndexStyle.pagination }\r\n                    onChange={ (current) => {\r\n                        if (current === 1) {\r\n                            navigate(\"/\");\r\n                            return;\r\n                        }\r\n\r\n                        navigate(`/page/${current}`);\r\n                    } }\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nHome.propTypes = {\r\n    data: PropTypes.object,\r\n    pageContext: PropTypes.object\r\n};\r\n\r\nexport const query = graphql`\r\n    query indexQuery($skip: Int!, $limit: Int!) {\r\n        allMarkdownRemark(sort: {fields: [frontmatter___date], order: DESC}, filter: {fileAbsolutePath: {regex: \"/(?<!about)\\\\.md$/\"}}, skip: $skip, limit: $limit) {\r\n            edges {\r\n                node {\r\n                    id\r\n                    timeToRead\r\n                    excerptHtml\r\n                    frontmatter {\r\n                        date\r\n                        tags\r\n                        title\r\n                        update\r\n                    }\r\n                    fields {\r\n                        slug\r\n                    }\r\n                }\r\n            }\r\n        } \r\n        site {\r\n            siteMetadata {\r\n                description\r\n            }\r\n        }\r\n    }\r\n`;"],"sourceRoot":""}
<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.784b4169646891d753dc.css" id="gatsby-global-css">@media (min-width:992px){.layout-module--sidebar-open-offset--1Ir-S{margin-left:300px}}.layout-module--pages--1HEFU{margin-top:80px;display:flex;flex-wrap:wrap;justify-content:center}.toolbar-module--toolbar--2_Din{position:fixed;top:0;left:0;right:0;z-index:100;padding:12px;background-color:var(--primary-color)}.toolbar-module--toolbar-shadow--2hS8z{box-shadow:0 0 10px rgba(0,0,0,.5)}.toolbar-module--icon--21iqN{color:#eee;font-size:32px}.toolbar-module--title--3LxCF{color:#eee;font-size:24px;padding-left:24px}.dark .toolbar-module--toolbar--2_Din{background-color:var(--dark-primary-color)}.dark .toolbar-module--icon--21iqN,.dark .toolbar-module--title--3LxCF{color:var(--dark-accent-text-color)}.icon-module--icon--20SH3{display:inline-block;line-height:1}.icon-module--icon--20SH3 svg{width:1em;height:1em;fill:currentColor;vertical-align:-.15em}.authorCard-module--text-center--3E2I3{text-align:center}.authorCard-module--avatar--1_Y9L>img{margin-bottom:0}.authorCard-module--avatar-circle--2I_IP{border-radius:50%;overflow:hidden}.authorCard-module--name--1RPXP{color:var(--accent-text-color);font-size:20px;padding-top:4px}.authorCard-module--dark--2YNnS .name{color:var(--dark-accent-text-color)}.authorCard-module--description--3xQDP{font-size:15px;word-wrap:break-word;word-break:break-all;white-space:normal;color:rgba(0,0,0,.5)}.sidebar-module--overlay--2yD2c{position:fixed;z-index:500;bottom:0;left:0;top:0;right:0;background:rgba(0,0,0,.4)}.sidebar-module--sidebar--1anzW{position:fixed;bottom:0;left:0;z-index:1000;box-sizing:border-box;overflow-x:hidden;overflow-y:auto;white-space:nowrap;will-change:transform;width:calc(100% - 64px);height:calc(100vh - 58px);background-color:var(--accent-background-color)}.dark .sidebar-module--sidebar--1anzW{background-color:var(--dark-accent-background-color)}.sidebar-module--open--1WHe1{transform:translateX(0)!important}.sidebar-module--close--1uDUC{transform:translateX(-280px);box-shadow:none!important}@-moz-document url-prefix(){.sidebar-module--sidebar--1anzW{height:calc(100vh - 57px)}}@media (min-width:992px){.sidebar-module--sidebar--1anzW{max-width:280px}.sidebar-module--sidebar-shadow--2Pfia{box-shadow:1px 2px 0 1px var(--divider-color)}.dark .sidebar-module--sidebar-shadow--2Pfia{box-shadow:1px 2px 0 1px var(--dark-divider-color)}}@media (max-width:992px){.sidebar-module--sidebar--1anzW{top:0;height:100vh;max-width:280px}}@media (max-width:600px){.sidebar-module--sidebar--1anzW{max-width:300px}.sidebar-module--close--1uDUC{transform:translateX(-300px)}}.contacts-module--contacts--3c8Bg{display:flex;flex-wrap:wrap;justify-content:center;padding:0 16px 8px}.contacts-module--contacts--3c8Bg>a>i{font-size:20px;padding-right:8px}.footer-module--footer--32soM{color:#555;font-size:12px;line-height:1.5}.footer-module--footer--32soM>div{text-align:center}.dark .footer-module--footer--32soM{color:var(--dark-text-color)!important}:root{--primary-color:#51b26d;--background-color:#e0e0e0;--text-color:#555;--accent-background-color:#eee;--accent-text-color:#212121;--divider-color:hsla(0,0%,74.1%,0.5019607843137255);--dark-primary-color:#212121;--dark-accent-color:#9e9e9e;--dark-background-color:#616161;--dark-accent-background-color:#757575;--dark-text-color:#333;--dark-accent-text-color:#eee;--dark-divider-color:rgba(66,66,66,0.2196078431372549);--post-info-text-color:#555;--post-title-color:#444;--dark-post-info-text-color:#333;--dark-post-title-color:#212121}body{background-color:var(--background-color);overflow-x:hidden}body ::-webkit-scrollbar{width:5px;height:5px;background:rgba(142,83,83,0)}body ::-webkit-scrollbar-thumb{background:rgba(0,0,0,.2)}.global-transition div,body{transition:all .4s cubic-bezier(.645,.045,.355,1) 0s}body[class^=dark]{background-color:var(--dark-background-color)!important}.body-locked{overflow:hidden}.divider{display:table;vertical-align:middle;position:relative;margin-bottom:6px;height:1px;width:100%;background-color:var(--divider-color)}.dark .divider{background-color:var(--dark-divider-color)}.dark a:focus,.dark a:hover{text-decoration:underline!important;color:#999!important}.lazyload,.lazyloading{height:auto;width:auto;opacity:1;background-color:#9e9e9e}.lazyloaded{height:auto;width:auto;opacity:1;transition:opacity .3s}.medium-zoom-overlay{z-index:1002}.medium-zoom-image--opened{z-index:1003}.post-body{color:#555;margin:20px;padding-bottom:20px;line-height:1.8}.post-body h2,.post-body h3,.post-body h4,.post-body h5,.post-body h6{border-left:4px solid #51b26d;margin-bottom:10px;margin-left:0;padding-left:32px;border-bottom:none}.post-body p{line-height:2.5;word-break:normal;word-wrap:break-word}.post-body img{padding:50px;min-width:50px;max-width:100%;height:auto}.post-body a{color:#2196f3!important;text-decoration:none;word-break:break-all}.post-body a:active,a:focus,a:hover{text-decoration:underline!important;color:#51b26d!important}.post-body blockquote{color:#2e405b;border-left:4px solid #1098ad;background-color:#e3f2fd;margin:0 0 20px;border-radius:3px;padding:0 0 0 10px}.post-body pre{color:#999;margin:40px 40px 20px;border-radius:3px;padding:6px}.post-body pre code{line-height:1.8;display:block;overflow-x:auto;background-color:#2b2b2b}.post-body .code-line>code>span{display:inline}.post-body hr{background-color:#555;height:1px;border:none}.post-body table{border-collapse:collapse;border-spacing:0;font-size:.875em;margin:0 0 20px;width:100%}.post-body tbody tr:nth-of-type(odd){background:#f9f9f9}.post-body tbody tr:hover{background-color:#999!important}.post-body th,td{font-weight:400;padding:8px;text-align:left;vertical-align:middle;border:1px solid #777}.dark .post-body{color:#333!important}.dark .post-body a{color:#222!important}.dark .post-body a:active,.dark .post-body a:focus,.dark .post-body a:hover{text-decoration:underline!important;color:#111!important}.dark .post-body h2,.dark .post-body h3,.dark .post-body h4,.dark .post-body h5,.dark .post-body h6{border-left:4px solid #111!important}.dark blockquote{color:#bdbdbd;border-left:4px solid #616161!important;background-color:rgba(227,242,253,.17254901960784313)}.dark .post-body hr{background-color:#555}.dark .post-body tbody tr:nth-of-type(odd){background:#555}.dark .post-body tbody tr:hover{background-color:hsla(0,0%,60%,.5)!important}.dark .post-body th,td{border:1px solid #999}.yoshino-icon{display:inline-block;line-height:1}.yoshino-icon>*{padding:0;margin:0;border:0;display:block;vertical-align:middle}.yoshino-icon svg{width:1em;height:1em;fill:currentColor;vertical-align:-.15em}.yoshino-menu.yoshino-menu-vertical .yoshino-menu-item:after{transition:all .3s cubic-bezier(.645,.045,.355,1);position:absolute;right:-1px;top:50%;content:"";display:inline-block;height:0;width:0}.yoshino-menu.yoshino-menu-vertical .yoshino-menu-item-active{background:#eef7f0}.yoshino-menu.yoshino-menu-vertical .yoshino-menu-item-active:after{top:0;height:100%;width:3px;background:#51b26d}.yoshino-menu.yoshino-menu-horizontal{border-right:none}.yoshino-menu.yoshino-menu-horizontal .yoshino-sub-menu,.yoshino-menu.yoshino-menu-horizontal>.yoshino-menu-item{display:inline-block}.yoshino-menu.yoshino-menu-horizontal .yoshino-menu-item,.yoshino-menu.yoshino-menu-horizontal .yoshino-sub-menu-title{padding:0 20px}.yoshino-menu.yoshino-menu-horizontal .yoshino-menu-item:after{transition:all .3s cubic-bezier(.645,.045,.355,1);position:absolute;bottom:-1px;left:50%;content:"";display:inline-block;height:0;width:0}.yoshino-menu.yoshino-menu-horizontal .yoshino-menu-item-active:after{left:0;width:100%;height:3px;background:#51b26d}.yoshino-sub-menu-pop-list{background:#fff;border-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,.15);margin-top:1px}.yoshino-sub-menu-pop-list .yoshino-menu-item,.yoshino-sub-menu-pop-list .yoshino-menu-item-group-title,.yoshino-sub-menu-pop-list .yoshino-sub-menu-title{padding:0 16px}.yoshino-sub-menu-pop-list .yoshino-menu-item-group .yoshino-sub-menu-title,.yoshino-sub-menu-pop-list .yoshino-menu-item-group>.yoshino-menu-item{padding-left:0 16px 0 28px}.yoshino-sub-menu-pop-list .yoshino-sub-menu{position:relative}.yoshino-sub-menu-pop-list .yoshino-sub-menu-title{position:relative;overflow:visible}.yoshino-sub-menu-pop-list .yoshino-sub-menu-container{overflow:visible}.yoshino-sub-menu-pop-list .yoshino-sub-menu-child-menu-container{position:absolute;left:100%;top:0;padding-left:10px}.yoshino-sub-menu-pop-list .yoshino-sub-menu-child-menu{background:#fff;border-radius:4px;box-shadow:0 2px 8px rgba(0,0,0,.15)}.yoshino-sub-menu-pop-list .yoshino-menu-item-active{background:#eef7f0}.yoshino-menu{border-right:1px solid #e8e8e8}.yoshino-sub-menu *{transition:all .3s cubic-bezier(.645,.045,.355,1)}.yoshino-sub-menu-title{font-size:14px;height:40px;line-height:40px;cursor:pointer;margin:4px 0;position:relative;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding-right:40px}.yoshino-sub-menu-title:hover{color:#51b26d}.yoshino-sub-menu-disabled .yoshino-sub-menu-title{cursor:not-allowed;color:#b8b8b8}.yoshino-sub-menu-disabled .yoshino-sub-menu-title:hover{color:#b8b8b8}.yoshino-sub-menu-container{overflow:hidden}.yoshino-sub-menu-icon{font-size:14px}.yoshino-sub-menu-hidden .yoshino-sub-menu-icon{transform:translateY(-50%) rotate(180deg)}.yoshino-sub-menu-icon{position:absolute;right:15px;top:50%;transform:translateY(-50%);font-size:12px}.yoshino-sub-menu:first-child .yoshino-sub-menu-title{margin-top:0}.yoshino-menu-item-group-title{font-size:14px;height:40px;line-height:40px;color:#b8b8b8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.yoshino-menu-item-group:first-child{margin-top:0}.yoshino-menu-item{font-size:14px;height:40px;line-height:40px;cursor:pointer;margin:4px 0;transition:all .3s cubic-bezier(.645,.045,.355,1);position:relative;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.yoshino-menu-item:hover:not(.yoshino-menu-item-disabled){color:#51b26d}.yoshino-menu-item-disabled{color:#b8b8b8;cursor:not-allowed}.yoshino-menu-item-active{color:#51b26d}.yoshino-menu-item:first-child{margin-top:0}@keyframes rotate{0%{transform-origin:50% 50%;transform:rotate(0)}to{transform-origin:50% 50%;transform:rotate(1turn)}}.yoshino-button{display:inline-block;border-radius:4px;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none;outline:0;padding:0 15px;font-size:14px;height:32px;transition:all .3s cubic-bezier(.645,.045,.355,1);background-color:#fff;border:1px solid #d9d9d9}.yoshino-button:disabled{background-color:#f7f7f7;cursor:not-allowed;color:#d9d9d9}.yoshino-button:disabled:focus,.yoshino-button:disabled:hover{border-color:#d9d9d9;color:#d9d9d9}.yoshino-button:focus,.yoshino-button:hover{border-color:#51b26d;color:#51b26d}.yoshino-button:active{color:#418e57}.yoshino-button-primary{color:#fff;background-color:#51b26d;border-color:#51b26d}.yoshino-button-primary:focus,.yoshino-button-primary:hover{background-color:#62ba7c;color:#fff}.yoshino-button-primary:active{background-color:#418e57}.yoshino-button-dashed{color:#51b26d;border-style:dashed}.yoshino-button-danger{background-color:#f7f7f7;color:#f04134}.yoshino-button-danger:focus,.yoshino-button-danger:hover{background-color:#f04134;border-color:#f04134;color:#fff}.yoshino-button-danger:active{background-color:#d73435;border-color:#d73435}.yoshino-button-size-small{padding:0 7px;font-size:12px;border-radius:4px;height:24px}.yoshino-button-size-large{padding:0 15px;font-size:14px;height:40px}.yoshino-button-ghost{color:#fff}.yoshino-button-ghost,.yoshino-button-ghost:focus,.yoshino-button-ghost:hover{background-color:transparent}.yoshino-button-ghost.yoshino-button-primary{color:#51b26d}.yoshino-button-ghost.yoshino-button-danger{color:#f04134;border-color:#f04134}.yoshino-button-ghost.yoshino-button-danger:active{color:#d73435;border-color:#d73435}.yoshino-button-icon{display:flex;align-items:center;justify-content:center}.yoshino-button-icon i{display:block}.yoshino-button-shape-circle{border-radius:28px;width:28px;height:28px;padding:0;font-size:14px}.yoshino-button-load{animation:rotate 1s linear infinite}.yoshino-button-container{display:flex;justify-content:center;align-content:center}.yoshino-pop{position:absolute;outline:0}.yoshino-pop :focus{outline:0}.yoshino-tooltip{position:relative;transition:opacity .3s cubic-bezier(.645,.045,.355,1)}.yoshino-tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.yoshino-tooltip-content{padding:5px;background:rgba(0,0,0,.75);font-size:12px;color:#fff;border-radius:4px;position:relative;white-space:nowrap}.yoshino-tooltip-top .yoshino-tooltip-arrow,.yoshino-tooltip-topLeft .yoshino-tooltip-arrow,.yoshino-tooltip-topRight .yoshino-tooltip-arrow{bottom:3px;border-width:5px 5px 0;border-top-color:rgba(0,0,0,.75)}.yoshino-tooltip-top .yoshino-tooltip-content,.yoshino-tooltip-topLeft .yoshino-tooltip-content,.yoshino-tooltip-topRight .yoshino-tooltip-content{top:-8px}.yoshino-tooltip-bottomLeft>.yoshino-tooltip-arrow,.yoshino-tooltip-topLeft>.yoshino-tooltip-arrow{left:8px}.yoshino-tooltip-bottom>.yoshino-tooltip-arrow,.yoshino-tooltip-top>.yoshino-tooltip-arrow{left:50%;transform:translate(-50%)}.yoshino-tooltip-bottomRight>.yoshino-tooltip-arrow,.yoshino-tooltip-topRight>.yoshino-tooltip-arrow{right:8px}.yoshino-tooltip-bottom .yoshino-tooltip-arrow,.yoshino-tooltip-bottomLeft .yoshino-tooltip-arrow,.yoshino-tooltip-bottomRight .yoshino-tooltip-arrow{top:3px;border-width:0 5px 5px;border-bottom-color:rgba(0,0,0,.75)}.yoshino-tooltip-bottom .yoshino-tooltip-content,.yoshino-tooltip-bottomLeft .yoshino-tooltip-content,.yoshino-tooltip-bottomRight .yoshino-tooltip-content{bottom:-8px}.yoshino-tooltip-left .yoshino-tooltip-arrow,.yoshino-tooltip-leftBottom .yoshino-tooltip-arrow,.yoshino-tooltip-leftTop .yoshino-tooltip-arrow{right:3px;border-width:5px 0 5px 5px;border-left-color:rgba(0,0,0,.75)}.yoshino-tooltip-left .yoshino-tooltip-content,.yoshino-tooltip-leftBottom .yoshino-tooltip-content,.yoshino-tooltip-leftTop .yoshino-tooltip-content{left:-8px}.yoshino-tooltip-left>.yoshino-tooltip-arrow,.yoshino-tooltip-right>.yoshino-tooltip-arrow{top:50%;transform:translateY(-50%)}.yoshino-tooltip-leftTop>.yoshino-tooltip-arrow,.yoshino-tooltip-rightTop>.yoshino-tooltip-arrow{top:8px}.yoshino-tooltip-leftBottom>.yoshino-tooltip-arrow,.yoshino-tooltip-rightBottom>.yoshino-tooltip-arrow{bottom:8px}.yoshino-tooltip-right .yoshino-tooltip-arrow,.yoshino-tooltip-rightBottom .yoshino-tooltip-arrow,.yoshino-tooltip-rightTop .yoshino-tooltip-arrow{left:3px;border-width:5px 5px 5px 0;border-right-color:rgba(0,0,0,.75)}.yoshino-tooltip-right .yoshino-tooltip-content,.yoshino-tooltip-rightBottom .yoshino-tooltip-content,.yoshino-tooltip-rightTop .yoshino-tooltip-content{right:-8px}.yoshino-tooltip-appear{display:block;opacity:0;transform:scale(.8)}.yoshino-tooltip-active-appear{display:block;transform:scale(1)}.yoshino-tooltip-active-enter,.yoshino-tooltip-enter{display:block;transform:scale(.8)}.yoshino-tooltip-done-enter,.yoshino-tooltip-exit{display:block;transform:scale(1)}.yoshino-tooltip-active-exit{display:block;transform:scale(.8)}.yoshino-tooltip-done-exit{display:none;transform:scale(.8)}.yoshino-pagination{-webkit-user-select:none;-ms-user-select:none;user-select:none}.yoshino-pagination-item{display:inline-block;min-width:32px;height:32px;line-height:32px;border:1px solid #d9d9d9;border-radius:4px;margin-right:8px;text-align:center;font-size:14px;cursor:pointer}.yoshino-pagination-item-active,.yoshino-pagination-item:hover{border-color:#51b26d;color:#51b26d}.yoshino-pagination-item-more{border:none}.yoshino-pagination-item:last-child{margin-right:0}.yoshino-pagination-footer,.yoshino-pagination-header{padding:0 5px}*,:after,:before{box-sizing:border-box;margin:0;padding:0}body{font-family:Monospaced Number,Chinese Quote,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif}iframe,img,input,select,textarea{border:0;outline:0}input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}button:focus,input:focus,select:focus,textarea:focus{outline:0}a,a:active,a:hover,a:link,a:visited{text-decoration:none;color:inherit}::-ms-clear{display:none}::-webkit-search-cancel-button,::-webkit-search-decoration,::-webkit-search-results-button,::-webkit-search-results-decoration{display:none}li,ul{list-style:none}.yoshino-menu{border-right:0!important}.dark .yoshino-menu.yoshino-menu-vertical .yoshino-menu-item-active{--dark-accent-color:hsla(0,0%,62%,0.5019607843137255);background:var(--dark-accent-color)!important}.dark .yoshino-menu.yoshino-menu-vertical .yoshino-menu-item-active:after{background:#cfbbbb!important}.dark .yoshino-menu-item-active,.dark .yoshino-menu-item:hover:not(.yoshino-menu-item-disabled){color:var(--dark-accent-text-color)!important}.dark .yoshino-pagination-item-active,.dark .yoshino-pagination-item:hover{border-color:#222;color:#222}.post-module--post-card--3ARqb{margin:25px;width:100%;max-width:1200px}.post-module--post--1-c9o{position:relative}.post-module--comment--3SSEI,.post-module--post--1-c9o{box-shadow:0 2px 8px rgba(0,0,0,.15);background-color:var(--accent-background-color)}.post-module--comment--3SSEI{padding:10px}.dark .post-module--comment--3SSEI,.dark .post-module--post--1-c9o{background-color:var(--dark-accent-background-color)!important}.index-module--index--3BxU3{width:100%;margin:24px;max-width:1200px}.index-module--pagination--3eVdr{margin-bottom:30px;text-align:center}.index-module--tag-name--2zDh1{margin:24px;font-size:30px;display:block}.postHead-module--title--3fWEH{padding:8px;font-size:25px;font-weight:700;text-align:center;color:var(--post-title-color)}.dark .postHead-module--title--3fWEH{color:var(--dark-post-title-color)!important}.postInfo-module--post-info--M_SKV{font-size:12px;text-align:center;color:var(--post-info-text-color)}.postInfo-module--post-info--M_SKV>span{margin:0 4px}.dark .postInfo-module--post-info--M_SKV{color:var(--dark-post-info-text-color)!important}.postInfo-module--post-info--M_SKV>span>i{font-size:16px;color:var(--primary-color)}.dark .postInfo-module--post-info--M_SKV>span>i{color:var(--dark-primary-color)!important}.toc-wrap ol{margin:0;padding:0 2px 5px 10px;font-size:13px;list-style:none;overflow-x:hidden;overflow-y:auto;text-align:left}.toc-wrap ol>ol{padding-left:0}.toc-wrap ol a{text-decoration:none;color:#0593d3;border-bottom-color:#ccc;transition-property:all;transition-delay:0s;transition-duration:.2s;transition-timing-function:ease-in-out}.toc-wrap .nav-item{line-height:1.8;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.toc-wrap .nav .active>a{border-bottom-color:#51b26d;color:#51b26d}.toc-wrap .nav .active-current>a,.toc-wrap .nav .active-current>a:hover{color:#51b26d}.toc-wrap .nav .nav-child{display:none}.toc-wrap .nav .active-current>.nav-child,.toc-wrap .nav .active-current>.nav-child>.nav-item,.toc-wrap .nav .active>.nav-child{display:block}.dark .toc-wrap ol a{color:#999!important}.dark .toc-wrap .nav .active>a{border-bottom-color:#444!important;color:#333!important}.dark .toc-wrap .nav .active-current>a,.dark .toc-wrap .nav .active-current>a:hover{color:#333!important}.drag-module--drag--1QpYq{position:fixed;top:200px;z-index:1001;right:calc(10vw - 100px);width:100%;max-width:360px;background-color:var(--background-color);box-shadow:0 0 10px rgba(0,0,0,.3);border-radius:4px;transition:background-color .4s cubic-bezier(.645,.045,.355,1) 0s!important}.drag-module--title--2a-Z6{width:100%;height:auto;margin-bottom:6px;cursor:move}.dark .drag-module--drag--1QpYq{background-color:var(--dark-background-color)!important}@media (max-width:992px){.drag-module--drag--1QpYq{display:none}}@media (min-width:1440px){.drag-module--drag--1QpYq{right:calc(20vw - 100px)}}@media (min-width:1920px){.drag-module--drag--1QpYq{right:calc(30vw - 100px)}}.postItem-module--post-item--2sk0P{width:100%;margin-bottom:40px;box-shadow:0 2px 8px rgba(0,0,0,.15);background-color:var(--accent-background-color)}.postItem-module--more-button--2dUVC{text-align:center;padding-bottom:16px}.postItem-module--more-button--2dUVC>button{color:#fff;border-color:#2196f3!important;background-color:#2196f3!important}.dark .postItem-module--more-button--2dUVC>button{color:#fff;border-color:#222!important;background-color:#222!important}.dark .postItem-module--post-item--2sk0P{background-color:var(--dark-accent-background-color)!important}.archives-module--archives-card--1Rizv{width:100%;margin:25px;padding:8px;max-width:1200px;box-shadow:0 2px 8px rgba(0,0,0,.15);background-color:var(--accent-background-color)}.archives-module--archives-card--1Rizv>h1{margin-bottom:8px;color:var(--accent-text-color)}.archives-module--archives-list--2FkQN ul{padding-left:8px}.archives-module--archives-list--2FkQN>ul>li li{padding:4px;list-style:disc;margin-left:32px;border-bottom:1px dashed #ccc}.archives-module--archives-list--2FkQN time{margin-right:8px}.dark .archives-module--archives-card--1Rizv{background-color:var(--dark-accent-background-color)!important}.dark .archives-module--archives-list--2FkQN>ul>li li{border-bottom:1px dashed #999}.link-module--link-card--3o-fw{width:100%;margin:25px;padding:8px;max-width:1200px;box-shadow:0 2px 8px rgba(0,0,0,.15);background-color:var(--accent-background-color)}.link-module--link-card--3o-fw>h1{margin-bottom:8px;color:var(--accent-text-color)}.link-module--link-list--1RoTg{margin:25px;display:flex;flex-wrap:wrap}.link-module--link-item--f0ZsA{width:12.5%;height:150px;text-align:center;margin:0 0 30px}.link-module--link-item--f0ZsA img{width:100px;height:100px}.link-module--link-item--f0ZsA h4{color:var(--text-color)}.link-module--link-item--f0ZsA p{color:#666;font-size:12px}.dark .link-module--link-card--3o-fw{background-color:var(--dark-accent-background-color)!important}.dark .link-module--link-item--f0ZsA h4{color:var(--dark-text-color)!important}.dark .link-module--link-item--f0ZsA p{color:#444}@media(min-width:0px){.link-module--link-item--f0ZsA{width:100%}}@media(min-width:350px){.link-module--link-item--f0ZsA{width:50%}}@media(min-width:600px){.link-module--link-item--f0ZsA{width:25%}}@media(min-width:1000px){.link-module--link-item--f0ZsA{width:12.5%}}</style><meta name="generator" content="Gatsby 2.32.3"/><title data-react-helmet="true">[php]实现b站登录 | Nworm</title><meta data-react-helmet="true" name="description" content="https://blog.kaaass.net/archives/947 在网上无聊瞎逛时，找到了这位大佬的文章
里面给出了ak，sk ，万分感激"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:description" content="https://blog.kaaass.net/archives/947 在网上无聊瞎逛时，找到了这位大佬的文章
里面给出了ak，sk ，万分感激"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="alternate" type="application/rss+xml" title="Nworm" href="/rss.xml"/><link as="script" rel="preload" href="/webpack-runtime-2e08bb275d71e1680018.js"/><link as="script" rel="preload" href="/framework-7bbb7991de2c9dccc6ce.js"/><link as="script" rel="preload" href="/dc6a8720040df98778fe970bf6c000a41750d3ae-0972f0aad671e1c2dcf1.js"/><link as="script" rel="preload" href="/app-2e48bd40890625509580.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/e8cd86f8f80aa61ba39f4e3852b3c68c8d3a692a-b40cb98727a9b824a701.js"/><link as="script" rel="preload" href="/component---node-modules-gatsby-theme-yoshino-src-templates-post-jsx-9cb8df395863eb46b3f9.js"/><link as="fetch" rel="preload" href="/page-data/post/php-shixianbzhan/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1528757306.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2428300253.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2428300253.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2428300253.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3159585216.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3159585216.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3741834850.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/4209591199.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/847439237.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="global-transition"><header class="toolbar-module--toolbar--2_Din toolbar-module--toolbar-shadow--2hS8z"><i class="icon-module--icon--20SH3 toolbar-module--icon--21iqN" style="float:left"></i><span class="toolbar-module--title--3LxCF">Nworm</span><i class="icon-module--icon--20SH3 toolbar-module--icon--21iqN" style="float:right"></i></header><div class="sidebar-module--sidebar--1anzW sidebar-module--sidebar-shadow--2Pfia sidebar-module--close--1uDUC" style="max-height:"><div></div><div style="min-height:calc(100% - 126px)"><div><div style="margin:16px"><div class="authorCard-module--avatar--1_Y9L authorCard-module--text-center--3E2I3"><img class="authorCard-module--avatar-circle--2I_IP" src="//img.nworm.icu/avatar.jpg" width="100" height="100"/></div><div class="authorCard-module--text-center--3E2I3 authorCard-module--name--1RPXP">nworm<br/><span class="authorCard-module--description--3xQDP"> <!-- -->一条咸鱼<!-- --> </span></div></div></div><div class="divider"></div><ul class="yoshino-menu yoshino-menu-vertical"><li class="yoshino-menu-item yoshino-menu-item-active" style="padding-left:24px;overflow:visible">主页</li><li class="yoshino-menu-item" style="padding-left:24px;overflow:visible">归档</li><li class="yoshino-menu-item" style="padding-left:24px;overflow:visible">关于</li><li class="yoshino-menu-item" style="padding-left:24px;overflow:visible">朋友</li></ul></div><div class="contacts-module--contacts--3c8Bg"><a href="https://github.com/1574242600" target="_blank" rel="noreferrer"><i class="icon-module--icon--20SH3"></i></a><a href="https://t.me/nworm1574" target="_blank" rel="noreferrer"><i class="icon-module--icon--20SH3"></i></a><a href="tencent://message/?uin=1574242600&amp;Site=&amp;Menu=yes" target="_blank" rel="noreferrer"><i class="icon-module--icon--20SH3"></i></a></div><div class="divider"></div><footer class="footer-module--footer--32soM"><div><span>博客已存活: </span>603天4小时33分33秒</div><div>© <!-- -->2021<!-- --> <!-- -->Nworm<!-- -->. <!-- -->Powered by<!-- --> <a href="//www.gatsbyjs.com/" target="_blank" rel="noreferrer">gatsby</a></div><div>Theme by  <a href="//github.com/1574242600/gatsby-theme-yoshino" target="_blank" rel="noreferrer">yoshino</a></div><div><span>Made with by <!-- -->nworm<!-- -->.</span> <span><a href="https://nworm.icu/sitemap.xml">sitemap</a></span> <span><a href="https://nworm.icu/rss.xml">rss</a></span></div></footer></div><div><div class="views"><div class="layout-module--pages--1HEFU" location="[object Object]"><div class="post-module--post-card--3ARqb"><div class="post-module--post--1-c9o"><div><h2 class="postHead-module--title--3fWEH">[php]实现b站登录</h2><div class="postInfo-module--post-info--M_SKV"><span><i class="icon-module--icon--20SH3"></i> 发表于 <time dateTime="2019-12-25T20:00:00.000Z" itemProp="dateCreated datePublished">2019-12-25</time></span>|<span>预计阅读时长: 5 分钟</span>|<span>标签: <!-- --> <a href="https://nworm.icu/tag/php">php</a></span></div></div><div class="post-body"><blockquote>
<p><a href="https://blog.kaaass.net/archives/947">https://blog.kaaass.net/archives/947</a></p>
</blockquote>
<hr>
<p>在网上无聊瞎逛时，找到了这位大佬的文章
里面给出了ak，sk ，万分感激 </p>
<!--more-->
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">Device: android</span></span>
<span class="grvsc-line"><span class="grvsc-source">Description: 普通版</span></span>
<span class="grvsc-line"><span class="grvsc-source">AppKey: 1d8b6e7d45233436</span></span>
<span class="grvsc-line"><span class="grvsc-source">SecretKey: 560c52ccd288fed045859ed18bffd973</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Device: android_i</span></span>
<span class="grvsc-line"><span class="grvsc-source">Description: 国际版</span></span>
<span class="grvsc-line"><span class="grvsc-source">AppKey: bb3101000e232e27</span></span>
<span class="grvsc-line"><span class="grvsc-source">SecretKey: 36efcfed79309338ced0380abd824ac1</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Device: android_b</span></span>
<span class="grvsc-line"><span class="grvsc-source">Description: 概念版</span></span>
<span class="grvsc-line"><span class="grvsc-source">AppKey: 07da50c9a0bf829f</span></span>
<span class="grvsc-line"><span class="grvsc-source">SecretKey: 25bdede4e1581c836cab73a48790ca6e</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Device: android_tv</span></span>
<span class="grvsc-line"><span class="grvsc-source">Description: 电视版</span></span>
<span class="grvsc-line"><span class="grvsc-source">AppKey: 4409e2ce8ffd12b8</span></span>
<span class="grvsc-line"><span class="grvsc-source">SecretKey: 59b43e04ad6965f34319062b478f83dd</span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source">Device: biliLink</span></span>
<span class="grvsc-line"><span class="grvsc-source">Description: 直播</span></span>
<span class="grvsc-line"><span class="grvsc-source">AppKey: 37207f2beaebf8d7</span></span>
<span class="grvsc-line"><span class="grvsc-source">SecretKey: e988e794d4d4b6dd43bc0e89d6e90c43</span></span></code></pre>
<p>（之前因为没ak，sk放弃了）
那该死的小破站，居然还没有公开OAuth2 （<a href="https://passport.bilibili.com/register/third.html">https://passport.bilibili.com/register/third.html</a>）
那就只好用安卓客户端的api来玩了</p>
<p><img class="lazyload" data-src="https://i.loli.net/2019/12/25/9IkbpyWfH3ZaxQh.png" alt="9IkbpyWfH3ZaxQh.png">
<img src="https://i.loli.net/2019/12/25/WIRCULzbswK2rZv.png" alt="0OO07OWUEO{I_OU1L{VXQ2B.png"></p>
<p>分别请求了
<a href="https://passport.bilibili.com/api/oauth2/getKey">https://passport.bilibili.com/api/oauth2/getKey</a> 用于获取加密明文密码用的hash，公钥
<a href="https://passport.bilibili.com/api/v2/oauth2/login">https://passport.bilibili.com/api/v2/oauth2/login</a> 用于简单的获取用户的登录凭据（access_key、Cookie）
下面看请求参数
<img src="https://i.loli.net/2019/12/25/sInQoOAdxNuVt6W.png" alt="JG)6MR77DWE@769{~AB1~YH.png"></p>
<table>
<thead>
<tr>
<th>参数名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>appkey</td>
<td>key</td>
</tr>
<tr>
<td>build</td>
<td>不知道</td>
</tr>
<tr>
<td>mobi_app</td>
<td>不知道</td>
</tr>
<tr>
<td>platform</td>
<td>不知道</td>
</tr>
<tr>
<td>ts</td>
<td>时间戳</td>
</tr>
<tr>
<td>sign</td>
<td>签名</td>
</tr>
</tbody>
</table>
<p>除了sign，没什么好讲的，第二个请求就多了两个参数 username ，password（重要）</p>
<h3 id="返回示例">返回示例</h3>
<p><a href="https://passport.bilibili.com/api/oauth2/getKey">https://passport.bilibili.com/api/oauth2/getKey</a></p>
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="json" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk1">{</span><span class="mtk13">&quot;ts&quot;</span><span class="mtk1">:</span><span class="mtk7">1577273591</span><span class="mtk1">,   </span><span class="mtk5">// 当前UNIX时间戳</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk13">&quot;code&quot;</span><span class="mtk1">:</span><span class="mtk7">0</span><span class="mtk1">,          </span><span class="mtk5">//状态码</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk13">&quot;data&quot;</span><span class="mtk1">:{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk13">&quot;hash&quot;</span><span class="mtk1">:</span><span class="mtk19">&quot;56e15708534f5973&quot;</span><span class="mtk1">, </span><span class="mtk5">//哈希</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk13">&quot;key&quot;</span><span class="mtk1">:</span><span class="mtk19">&quot;-----BEGIN PUBLIC KEY-----</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk19"> \nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDjb4V7EidX/ym28t2ybo0U6t0n\n6p4ej8VjqKHg100va6jkNbNTrLQqMCQCAYtXM</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk19"> XXp2Fwkk6WR+12N9zknLjf+C9sx\n/+l48mjUU8RqahiFD1XT/u2e0m2EN029OhCgkHx3Fc/KlFSIbak93EH/XlYis0w+\nXl69GV6klz</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk19"> gxW6d2xQIDAQAB\n-----END PUBLIC KEY-----\n&quot;</span><span class="mtk1">   </span><span class="mtk5">//公钥</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">}}</span></span></span></code></pre>
<p><a href="https://passport.bilibili.com/api/v2/oauth2/login">https://passport.bilibili.com/api/v2/oauth2/login</a></p>
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="json" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk1">{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk13">&quot;ts&quot;</span><span class="mtk1">: </span><span class="mtk7">1577278563</span><span class="mtk1">, </span><span class="mtk5">// 当前UNIX时间戳</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk13">&quot;code&quot;</span><span class="mtk1">: </span><span class="mtk7">0</span><span class="mtk1">,  </span><span class="mtk5">// 状态码</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1">	</span><span class="mtk13">&quot;data&quot;</span><span class="mtk1">: {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk13">&quot;status&quot;</span><span class="mtk1">: </span><span class="mtk7">0</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk13">&quot;token_info&quot;</span><span class="mtk1">: {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk13">&quot;mid&quot;</span><span class="mtk1">: </span><span class="mtk7">1</span><span class="mtk1">, </span><span class="mtk5">// 该用户的mid</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk13">&quot;access_token&quot;</span><span class="mtk1">: </span><span class="mtk19">&quot;1234567890abcde1234567890abc&quot;</span><span class="mtk1">, </span><span class="mtk5">// 该用户的access_key</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk13">&quot;refresh_token&quot;</span><span class="mtk1">: </span><span class="mtk19">&quot;1234567890abcde1234567890abc&quot;</span><span class="mtk1">, </span><span class="mtk5">// 该用户的refresh_token</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk13">&quot;expires_in&quot;</span><span class="mtk1">: </span><span class="mtk7">2592000</span><span class="mtk1">             </span><span class="mtk5">// 过期时间戳</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">		},</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk13">&quot;cookie_info&quot;</span><span class="mtk1">: {     </span><span class="mtk5">// 该用户Cookie凭据</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk13">&quot;cookies&quot;</span><span class="mtk1">: [</span><span class="mtk18">.....</span><span class="mtk1">], </span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">			</span><span class="mtk13">&quot;domains&quot;</span><span class="mtk1">: [</span><span class="mtk18">.....</span><span class="mtk1">]</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">		},</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">		</span><span class="mtk13">&quot;sso&quot;</span><span class="mtk1">: [</span><span class="mtk18">.....</span><span class="mtk1">]</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">}</span></span></span></code></pre>
<h3 id="签名sign生成方式：">签名(sign)生成方式：</h3>
<blockquote>
<p>把接口所需所有参数拼接，如utk=xx&#x26;time=xx，按参数名称排序，最后再拼接上密钥App-Secret，做md5加密 (callback不需要参与sign校检)           ------<a href="https://github.com/fython/BilibiliAPIDocs">https://github.com/fython/BilibiliAPIDocs</a></p>
</blockquote>
<p>PHP 版本:</p>
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="php" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk5">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk5"> * </span><span class="mtk5 mtkb">@param</span><span class="mtk5"> $params array 参数列表</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk5"> * </span><span class="mtk5 mtkb">@param</span><span class="mtk5"> $key 加密密钥</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk5"> * </span><span class="mtk5 mtkb">@return</span><span class="mtk5"> </span><span class="mtk5 mtkb">array</span><span class="mtk5"> sign:加密校验串,params:参数拼接串</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk5"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk6 mtkb">function</span><span class="mtk1"> </span><span class="mtk12">get_sign</span><span class="mtk1">(</span><span class="mtk13">$params</span><span class="mtk1">,</span><span class="mtk13"> $key</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk13">$_data</span><span class="mtk1"> </span><span class="mtk15 mtkb">=</span><span class="mtk1"> </span><span class="mtk12">array</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">ksort</span><span class="mtk15">(</span><span class="mtk13">$params</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk12">reset</span><span class="mtk15">(</span><span class="mtk13">$params</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk6 mtkb">foreach</span><span class="mtk1"> (</span><span class="mtk13">$params</span><span class="mtk1"> </span><span class="mtk15 mtkb">as</span><span class="mtk1"> </span><span class="mtk13">$k</span><span class="mtk1"> </span><span class="mtk15 mtkb">=&gt;</span><span class="mtk1"> </span><span class="mtk13">$v</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk5">// rawurlencode 返回的转义数字必须为大写( 如%2F )</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk13">$_data</span><span class="mtk1">[] </span><span class="mtk15 mtkb">=</span><span class="mtk1"> </span><span class="mtk13">$k</span><span class="mtk1"> </span><span class="mtk15 mtkb">.</span><span class="mtk1"> </span><span class="mtk19">&#39;=&#39;</span><span class="mtk1"> </span><span class="mtk15 mtkb">.</span><span class="mtk1"> </span><span class="mtk12">rawurlencode</span><span class="mtk15">(</span><span class="mtk13">$v</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">  }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk13">$_sign</span><span class="mtk1"> </span><span class="mtk15 mtkb">=</span><span class="mtk1"> </span><span class="mtk12">implode</span><span class="mtk15">(</span><span class="mtk19">&#39;&amp;&#39;</span><span class="mtk15">, </span><span class="mtk13">$_data</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk6 mtkb">return</span><span class="mtk1"> </span><span class="mtk12">array</span><span class="mtk1">(</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk19">&#39;sign&#39;</span><span class="mtk1"> </span><span class="mtk15 mtkb">=&gt;</span><span class="mtk1"> </span><span class="mtk12">strtolower</span><span class="mtk15">(</span><span class="mtk12">md5</span><span class="mtk15">(</span><span class="mtk13">$_sign</span><span class="mtk15"> </span><span class="mtk15 mtkb">.</span><span class="mtk15"> </span><span class="mtk13">$key</span><span class="mtk15">))</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk19">&#39;params&#39;</span><span class="mtk1"> </span><span class="mtk15 mtkb">=&gt;</span><span class="mtk1"> </span><span class="mtk13">$_sign</span><span class="mtk1">,</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1">  );</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1"> }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk12">define</span><span class="mtk15">(</span><span class="mtk19">&quot;APP_SECRET&quot;</span><span class="mtk15">,</span><span class="mtk19">&quot;abcdef123456&quot;</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="21"></span><span class="grvsc-source"><span class="mtk1"> </span><span class="mtk12">get_sign</span><span class="mtk15">(</span><span class="mtk12">array</span><span class="mtk15">(</span><span class="mtk19">&quot;type&quot;</span><span class="mtk15 mtkb">=&gt;</span><span class="mtk19">&quot;json&quot;</span><span class="mtk15">),APP_SECRET)</span><span class="mtk1">;</span></span></span></code></pre>
<p>js版本:</p>
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="js" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk12">&lt;script</span><span class="mtk1"> </span><span class="mtk16">type</span><span class="mtk15 mtkb">=</span><span class="mtk19">&quot;text/javascript&quot;</span><span class="mtk1"> </span><span class="mtk16">src</span><span class="mtk15 mtkb">=</span><span class="mtk19">&quot;http://static.hdslb.com/js/md5.js&quot;</span><span class="mtk12">&gt;</span><span class="mtk1">/script&gt;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk1"> function get_sign(params, key)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk15">var</span><span class="mtk1"> </span><span class="mtk15">s_keys</span><span class="mtk1"> </span><span class="mtk15 mtkb">=</span><span class="mtk1"> [];</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk12">for</span><span class="mtk1"> (</span><span class="mtk15">var</span><span class="mtk1"> </span><span class="mtk15">i</span><span class="mtk1"> </span><span class="mtk6 mtkb">in</span><span class="mtk1"> </span><span class="mtk15">params</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk1"> 	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"><span class="mtk1"> 		s_keys.push(i);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk1"> 	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk15">s_keys.</span><span class="mtk12">sort</span><span class="mtk1">();</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk15">var</span><span class="mtk1"> </span><span class="mtk15">data</span><span class="mtk1"> </span><span class="mtk15 mtkb">=</span><span class="mtk1"> </span><span class="mtk19">&quot;&quot;</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk12">for</span><span class="mtk1"> (</span><span class="mtk15">var</span><span class="mtk1"> </span><span class="mtk15">i</span><span class="mtk1"> </span><span class="mtk15 mtkb">=</span><span class="mtk1"> </span><span class="mtk7">0</span><span class="mtk1">; </span><span class="mtk15">i</span><span class="mtk1"> </span><span class="mtk15 mtkb">&lt;</span><span class="mtk1"> </span><span class="mtk15">s_keys</span><span class="mtk1">.</span><span class="mtk15">length</span><span class="mtk1">; </span><span class="mtk15">i</span><span class="mtk15 mtkb">++</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1"> 	{</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1"> 		</span><span class="mtk5">// encodeURIComponent 返回的转义数字必须为大写( 如 %2F )</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1"> 		data+=(data ? </span><span class="mtk19">&quot;&amp;&quot;</span><span class="mtk13"> :</span><span class="mtk1"> </span><span class="mtk19">&quot;&quot;</span><span class="mtk1">)</span><span class="mtk15 mtkb">+</span><span class="mtk15">s_keys</span><span class="mtk1">[</span><span class="mtk15">i</span><span class="mtk1">]</span><span class="mtk15 mtkb">+</span><span class="mtk19">&quot;=&quot;</span><span class="mtk15 mtkb">+</span><span class="mtk12">encodeURIComponent</span><span class="mtk1">(</span><span class="mtk15">params</span><span class="mtk1">[</span><span class="mtk15">s_keys</span><span class="mtk1">[</span><span class="mtk15">i</span><span class="mtk1">]]);</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1"> 	}</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1"> 	</span><span class="mtk15">return</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="17"></span><span class="grvsc-source"><span class="mtk1"> 		</span><span class="mtk19">&quot;sign&quot;</span><span class="mtk13">:</span><span class="mtk12">hex_md5</span><span class="mtk1">(</span><span class="mtk15">data</span><span class="mtk15 mtkb">+</span><span class="mtk15">key</span><span class="mtk1">),</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="18"></span><span class="grvsc-source"><span class="mtk1"> 		</span><span class="mtk19">&quot;params&quot;</span><span class="mtk13">:</span><span class="mtk15">data</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="19"></span><span class="grvsc-source"><span class="mtk1"> 	};</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="20"></span><span class="grvsc-source"><span class="mtk1"> }</span></span></span></code></pre>
<h3 id="password-生成方式">password 生成方式</h3>
<p>在明文密码前拼接从<a href="https://passport.bilibili.com/api/oauth2/getKey%E5%BE%97%E6%9D%A5%E7%9A%84hash%EF%BC%8C%E7%94%A8%E5%BE%97%E6%9D%A5%E7%9A%84%E5%85%AC%E9%92%A5%E5%81%9Arsa%E5%8A%A0%E5%AF%86%E5%86%8Dbase64">https://passport.bilibili.com/api/oauth2/getKey得来的hash，用得来的公钥做rsa加密再base64</a>  </p>
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="php" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk5">/**</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="2"></span><span class="grvsc-source"><span class="mtk5"> * </span><span class="mtk5 mtkb">@param</span><span class="mtk5"> $key 加密公钥</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="3"></span><span class="grvsc-source"><span class="mtk5"> * </span><span class="mtk5 mtkb">@param</span><span class="mtk5"> $hash string 哈希</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="4"></span><span class="grvsc-source"><span class="mtk5"> * </span><span class="mtk5 mtkb">@param</span><span class="mtk5"> $pwd string 明文密码</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="5"></span><span class="grvsc-source"><span class="mtk5"> * </span><span class="mtk5 mtkb">@return</span><span class="mtk5"> </span><span class="mtk5 mtkb">string</span><span class="mtk5"> base64后的加密密码</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="6"></span><span class="grvsc-source"><span class="mtk5"> */</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="7"></span><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="8"></span><span class="grvsc-source"><span class="mtk6 mtkb">function</span><span class="mtk1"> </span><span class="mtk12">get_rsa_pwd</span><span class="mtk1">(</span><span class="mtk13">$key</span><span class="mtk1">,</span><span class="mtk13">$hash</span><span class="mtk1">,</span><span class="mtk13">$pwd</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="9"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk13">$pu_key</span><span class="mtk1"> </span><span class="mtk15 mtkb">=</span><span class="mtk1"> </span><span class="mtk12">openssl_pkey_get_public</span><span class="mtk15">(</span><span class="mtk13">$key</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="10"></span><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk6 mtkb">if</span><span class="mtk1"> (</span><span class="mtk13">$loginkey</span><span class="mtk1">) {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="11"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk12">openssl_public_encrypt</span><span class="mtk15">(</span><span class="mtk13">$hash</span><span class="mtk15"> </span><span class="mtk15 mtkb">.</span><span class="mtk15"> </span><span class="mtk13">$pwd</span><span class="mtk15"> ,</span><span class="mtk13">$rsa_pwd</span><span class="mtk15">,</span><span class="mtk13">$pu_key</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="12"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk6 mtkb">return</span><span class="mtk1"> </span><span class="mtk12">base64_encode</span><span class="mtk15">(</span><span class="mtk13">$rsa_pwd</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="13"></span><span class="grvsc-source"><span class="mtk1">        } </span><span class="mtk6 mtkb">else</span><span class="mtk1"> {</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="14"></span><span class="grvsc-source"><span class="mtk1">            </span><span class="mtk6 mtkb">return</span><span class="mtk1"> </span><span class="mtk6 mtkb">false</span><span class="mtk1"> ;</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="15"></span><span class="grvsc-source"><span class="mtk1">        }</span></span></span>
<span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="16"></span><span class="grvsc-source"><span class="mtk1">    }</span></span></span></code></pre>
<p>这些都知道了，你还写不出来登录？？</p>
<h3 id="demo">demo</h3>
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">https://nworm.cf/my/bili/login.php?user=a&amp;pwd=b</span></span>
<span class="grvsc-line"><span class="grvsc-source">参数都懂吧</span></span>
<span class="grvsc-line"><span class="grvsc-source">我不会记录账号密码，也没有必要</span></span>
<span class="grvsc-line"><span class="grvsc-source">不相信我的，请使用小号</span></span></code></pre>
<h3 id="源码">源码</h3>
<p><a href="https://github.com/1574242600/bili-login">https://github.com/1574242600/bili-login</a>
我没写判断</p>
<h3 id="关于验证码的问题">关于验证码的问题</h3>
<p>关于验证码的问题
<a href="https://passport.bilibili.com/captcha">https://passport.bilibili.com/captcha</a>
在请求b站登录api（或demo，不过demo的sid的值请自行解析，我懒）时，它会返回一个cookies， 名称为sid
带着sid请求上面的链接，得到验证码图片，和名为JSESSIONID的session
最后带着上面的cookies ，再加个请求参数captcha，值就是验证码
就行了</p>
<h3 id="坑">坑</h3>
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="php" data-index="7"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk12">curl_setopt</span><span class="mtk15">(</span><span class="mtk13">$lo</span><span class="mtk15">, CURLOPT_POSTFIELDS,</span><span class="mtk13">$data</span><span class="mtk15">)</span><span class="mtk1">;</span></span></span></code></pre>
<pre class="grvsc-container code-line dracula-theme-from-intellij" data-language="php" data-index="8"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-gutter-pad"></span><span class="grvsc-gutter grvsc-line-number" aria-hidden="true" data-content="1"></span><span class="grvsc-source"><span class="mtk12">curl_setopt</span><span class="mtk15">(</span><span class="mtk13">$lo</span><span class="mtk15">, CURLOPT_POSTFIELDS,</span><span class="mtk12">http_build_query</span><span class="mtk15">(</span><span class="mtk13">$data</span><span class="mtk15">))</span><span class="mtk1">;</span></span></span></code></pre>
<p>区别：<a href="https://www.cnblogs.com/52php/p/5677689.html">https://www.cnblogs.com/52php/p/5677689.html</a>
(会导致b站认为你的请求非法)
这玩意害我蒙了半天
以后我绝对加http<em>build</em>query()</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .dracula-theme-from-intellij {
    color: #d4d4d4;
    background-color: #212122;
  }
  .dracula-theme-from-intellij .mtkb { font-weight: bold; }
  .dracula-theme-from-intellij .mtk1 { color: #D4D4D4; }
  .dracula-theme-from-intellij .mtk13 { color: #9876AA; }
  .dracula-theme-from-intellij .mtk7 { color: #6897BB; }
  .dracula-theme-from-intellij .mtk5 { color: #808080; }
  .dracula-theme-from-intellij .mtk19 { color: #6A8759; }
  .dracula-theme-from-intellij .mtk18 { color: #F44747; }
  .dracula-theme-from-intellij .mtk6 { color: #CC7832; }
  .dracula-theme-from-intellij .mtk12 { color: #FFC66D; }
  .dracula-theme-from-intellij .mtk15 { color: #A9B7C6; }
  .dracula-theme-from-intellij .mtk16 { color: #BABABA; }
  .dracula-theme-from-intellij .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></div><div class="post-module--comment--3SSEI"><div id="disqus_thread"><div> loading...</div></div></div></div></div></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/php-shixianbzhan/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e0338ac18ef252339b0d.js"],"app":["/app-2e48bd40890625509580.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-241020a1cf7d0f317bbe.js"],"component---node-modules-gatsby-theme-yoshino-src-pages-404-jsx":["/component---node-modules-gatsby-theme-yoshino-src-pages-404-jsx-2f6296b9dacbe9582907.js"],"component---node-modules-gatsby-theme-yoshino-src-pages-about-jsx":["/component---node-modules-gatsby-theme-yoshino-src-pages-about-jsx-0c1228f21bc50c27edab.js"],"component---node-modules-gatsby-theme-yoshino-src-pages-archives-jsx":["/component---node-modules-gatsby-theme-yoshino-src-pages-archives-jsx-4dc256f8ba390f77eb5a.js"],"component---node-modules-gatsby-theme-yoshino-src-pages-link-jsx":["/component---node-modules-gatsby-theme-yoshino-src-pages-link-jsx-2daa44bb17121ff3f11f.js"],"component---node-modules-gatsby-theme-yoshino-src-templates-index-jsx":["/component---node-modules-gatsby-theme-yoshino-src-templates-index-jsx-d3783a18d78db8c13c95.js"],"component---node-modules-gatsby-theme-yoshino-src-templates-post-jsx":["/component---node-modules-gatsby-theme-yoshino-src-templates-post-jsx-9cb8df395863eb46b3f9.js"],"component---node-modules-gatsby-theme-yoshino-src-templates-tag-jsx":["/component---node-modules-gatsby-theme-yoshino-src-templates-tag-jsx-419ee17aee86305729b0.js"]};/*]]>*/</script><script src="/polyfill-e0338ac18ef252339b0d.js" nomodule=""></script><script src="/component---node-modules-gatsby-theme-yoshino-src-templates-post-jsx-9cb8df395863eb46b3f9.js" async=""></script><script src="/e8cd86f8f80aa61ba39f4e3852b3c68c8d3a692a-b40cb98727a9b824a701.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-2e48bd40890625509580.js" async=""></script><script src="/dc6a8720040df98778fe970bf6c000a41750d3ae-0972f0aad671e1c2dcf1.js" async=""></script><script src="/framework-7bbb7991de2c9dccc6ce.js" async=""></script><script src="/webpack-runtime-2e08bb275d71e1680018.js" async=""></script></body></html>
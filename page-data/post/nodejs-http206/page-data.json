{"componentChunkName":"component---node-modules-gatsby-theme-yoshino-src-templates-post-jsx","path":"/post/nodejs-http206/","result":{"data":{"markdownRemark":{"frontmatter":{"date":"2020-04-10T12:40:00.000Z","tags":["js"],"title":"[nodejs]koa框架 206 Partial Content","update":null},"timeToRead":2,"navHtml":"<ol class=\"nav\"><li class=\"nav-item nav-level-2\"><a class=\"nav-link\" href=\"#206-partial-content-是个什么玩意？\"><span class=\"nav-number\">1.</span> <span class=\"nav-text\">206 Partial Content 是个什么玩意？</span></a></li><li class=\"nav-item nav-level-2\"><a class=\"nav-link\" href=\"#头示例\"><span class=\"nav-number\">2.</span> <span class=\"nav-text\">头示例</span></a><ol class=\"nav-child\"><li class=\"nav-item nav-level-3\"><a class=\"nav-link\" href=\"#range-字节数（bytes）开始-结束\"><span class=\"nav-number\">2.1.</span> <span class=\"nav-text\">Range: 字节数（bytes）=(开始)-(结束)</span></a></li><li class=\"nav-item nav-level-3\"><a class=\"nav-link\" href=\"#content-range：字节数（bytes）开始-结束总长度\"><span class=\"nav-number\">2.2.</span> <span class=\"nav-text\">Content-Range：字节数（bytes）=(开始)-(结束)/(总长度)</span></a></li><li class=\"nav-item nav-level-3\"><a class=\"nav-link\" href=\"#accept-ranges-字节（bytes）\"><span class=\"nav-number\">2.3.</span> <span class=\"nav-text\">Accept-Ranges: 字节（bytes）</span></a></li><li class=\"nav-item nav-level-3\"><a class=\"nav-link\" href=\"#content-length-3145729\"><span class=\"nav-number\">2.4.</span> <span class=\"nav-text\">Content-Length: 3145729</span></a></li></ol></li><li class=\"nav-item nav-level-2\"><a class=\"nav-link\" href=\"#koa-实现部分功能\"><span class=\"nav-number\">3.</span> <span class=\"nav-text\">koa 实现部分功能</span></a></li></ol>","excerpt":"c，为什么koa它不直接支持206","html":"<p>c，为什么koa它不直接支持206  </p>\n<!--more-->\n<h2>206 Partial Content 是个什么玩意？</h2>\n<blockquote>\n<p>HTTP 206 Partial Content 成功状态响应代码表示请求已成功，并且主体包含所请求的数据区间，该数据区间是在请求的 Range 首部指定的。</p>\n<p>如果只包含一个数据区间，那么整个响应的 Content-Type 首部的值为所请求的文件的类型，同时包含  Content-Range 首部。</p>\n<p>如果包含多个数据区间，那么整个响应的  Content-Type  首部的值为 multipart/byteranges ，其中一个片段对应一个数据区间，并提供  Content-> Range 和 Content-Type  描述信息。</p>\n<p> <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/206\">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/206</a></p>\n</blockquote>\n<p>简单来说，就是获取服务端上，一个文件的部分内容，HTTP断点续传就是依赖的这玩意<br>\n注：本文并未实现  206 Partial Content的全部功能</p>\n<h2>头示例</h2>\n<pre class=\"grvsc-container code-line dracula-theme-from-intellij\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">GET /localVideo/?token=14c422b3623a69dbc831c4469794e7a2 HTTP/1.1</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Host: 127.0.0.1:3000</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:75.0) Gecko/20100101 Firefox/75.0</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Accept: video/webm,video/ogg,video/*;q=0.9,application/ogg;q=0.7,audio/*;q=0.6,*/*;q=0.5</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Range: bytes=0-</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Connection: keep-alive</span></span></code></pre>\n<h3>Range: 字节数（bytes）=(开始)-(结束)</h3>\n<p>这是浏览器告知服务器所需分部分内容范围的消息头。 注意开始和结束位置是都包括在内的，这个头也只发送一个位置，其含义如下:  </p>\n<ul>\n<li>如果只发送开始位置，服务器会返回从声明的开始位置到服务器设置的数据区间长度+开始位置的数据  </li>\n<li>如果只发送结束位置，结束位置参数可以被描述成从最后一个可用的字节算起可以被服务器返回的字节数  </li>\n</ul>\n<pre class=\"grvsc-container code-line dracula-theme-from-intellij\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">HTTP/1.1 206 Partial Content</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Content-Type: video/mp4</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Content-Range: bytes 0-3145729/24332262</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Accept-Ranges: bytes</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Content-Length: 3145729</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Connection: keep-alive</span></span></code></pre>\n<h3>Content-Range：字节数（bytes）=(开始)-(结束)/(总长度)</h3>\n<p>服务器返回当前数据区间开始结束位置，文件总长度</p>\n<h3>Accept-Ranges: 字节（bytes）</h3>\n<p>声明数据存储单位 ，然而只能用bytes这一个单位</p>\n<h3>Content-Length: 3145729</h3>\n<p>此次数据长度</p>\n<h2>koa 实现部分功能</h2>\n<pre class=\"grvsc-container code-line dracula-theme-from-intellij\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk5\">/**</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk5\"> * 206 Partial Content</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk5\"> * </span><span class=\"mtk5 mtkb\">@name</span><span class=\"mtk5\"> http206</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk5\"> * </span><span class=\"mtk5 mtkb\">@param</span><span class=\"mtk5\"> ctx  object Koa Context</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk5\"> * </span><span class=\"mtk5 mtkb\">@param</span><span class=\"mtk5\"> path  string 文件路径</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk5\"> * </span><span class=\"mtk5 mtkb\">@return</span><span class=\"mtk5\"> steam</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk5\"> */</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk6 mtkb\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">http206</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6 mtkb\">async</span><span class=\"mtk1\"> (</span><span class=\"mtk15\">ctx</span><span class=\"mtk1\">,</span><span class=\"mtk15\">path</span><span class=\"mtk1\">) </span><span class=\"mtk15 mtkb\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk15\">Range</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk15\">ctx.request.</span><span class=\"mtk12\">get</span><span class=\"mtk1\">(</span><span class=\"mtk19\">&#39;Range&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk15\">file</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk15\">fs.</span><span class=\"mtk12\">statSync</span><span class=\"mtk1\">(</span><span class=\"mtk15\">path</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk15\">fileSize</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk15\">file</span><span class=\"mtk1\">.</span><span class=\"mtk13\">size</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk15\">parts</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk15\">Range.</span><span class=\"mtk12\">replace</span><span class=\"mtk1\">(</span><span class=\"mtk19\">/bytes=/</span><span class=\"mtk1\">, </span><span class=\"mtk19\">&quot;&quot;</span><span class=\"mtk1\">)</span><span class=\"mtk15\">.</span><span class=\"mtk12\">split</span><span class=\"mtk1\">(</span><span class=\"mtk19\">&quot;-&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk15\">start</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk15\">parts</span><span class=\"mtk1\">[</span><span class=\"mtk7\">0</span><span class=\"mtk1\">] </span><span class=\"mtk15 mtkb\">?</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Number</span><span class=\"mtk1\">(</span><span class=\"mtk15\">parts</span><span class=\"mtk1\">[</span><span class=\"mtk7\">0</span><span class=\"mtk1\">]) </span><span class=\"mtk15 mtkb\">:</span><span class=\"mtk1\"> </span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5\">//当请求字段Range结束位置为0时，这里长度为3mb,请根据需要调整</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk15\">end</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk15\">parts</span><span class=\"mtk1\">[</span><span class=\"mtk7\">1</span><span class=\"mtk1\">] </span><span class=\"mtk15 mtkb\">?</span><span class=\"mtk1\"> </span><span class=\"mtk12\">Number</span><span class=\"mtk1\">(</span><span class=\"mtk15\">parts</span><span class=\"mtk1\">[</span><span class=\"mtk7\">1</span><span class=\"mtk1\">]) </span><span class=\"mtk15 mtkb\">:</span><span class=\"mtk1\"> </span><span class=\"mtk15\">start</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">+</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1024</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">*</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1024</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">*</span><span class=\"mtk1\"> </span><span class=\"mtk7\">3</span><span class=\"mtk1\">;  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">end</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk15\">end</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk15\">fileSize</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">-</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">?</span><span class=\"mtk1\"> </span><span class=\"mtk15\">fileSize</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">-</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">:</span><span class=\"mtk1\"> </span><span class=\"mtk15\">end</span><span class=\"mtk1\">;           </span><span class=\"mtk5\">//当结束位置大于文件长度-1时，结束位置 = 文件长度 - 1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk15\">chunksize</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> (</span><span class=\"mtk15\">end</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">-</span><span class=\"mtk1\"> </span><span class=\"mtk15\">start</span><span class=\"mtk1\">) </span><span class=\"mtk15 mtkb\">+</span><span class=\"mtk1\"> </span><span class=\"mtk7\">1</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">let</span><span class=\"mtk1\"> </span><span class=\"mtk15\">headers</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk19\">&#39;Content-Range&#39;</span><span class=\"mtk13\">:</span><span class=\"mtk1\"> </span><span class=\"mtk19\">`bytes </span><span class=\"mtk15\">${start}</span><span class=\"mtk19\">-</span><span class=\"mtk15\">${end}</span><span class=\"mtk19\">/</span><span class=\"mtk15\">${fileSize}</span><span class=\"mtk19\">`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk19\">&#39;Accept-Ranges&#39;</span><span class=\"mtk13\">:</span><span class=\"mtk1\"> </span><span class=\"mtk19\">&#39;bytes&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk19\">&#39;Content-Length&#39;</span><span class=\"mtk13\">:</span><span class=\"mtk1\"> </span><span class=\"mtk15\">chunksize</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk19\">&#39;Content-Type&#39;</span><span class=\"mtk13\">:</span><span class=\"mtk1\">  </span><span class=\"mtk15\">mime类型</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5\">//console.log(headers);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">ctx</span><span class=\"mtk1\">.</span><span class=\"mtk15\">response</span><span class=\"mtk1\">.</span><span class=\"mtk13\">status</span><span class=\"mtk1\"> </span><span class=\"mtk15 mtkb\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">206</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">ctx.</span><span class=\"mtk12\">set</span><span class=\"mtk1\">(</span><span class=\"mtk15\">headers</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5\">//请根据需要处理异常</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"31\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk6 mtkb\">return</span><span class=\"mtk1\"> </span><span class=\"mtk15\">fs.</span><span class=\"mtk12\">createReadStream</span><span class=\"mtk1\">(</span><span class=\"mtk15\">path</span><span class=\"mtk1\">,{</span><span class=\"mtk15\">start</span><span class=\"mtk1\">,</span><span class=\"mtk15\">end</span><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"32\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span></code></pre>\n<p><img src=\"https://nworm.icu/pan/%E5%9B%BE%E7%89%87/http206.png\"></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dracula-theme-from-intellij {\n    color: #d4d4d4;\n    background-color: #212122;\n  }\n  .dracula-theme-from-intellij .mtkb { font-weight: bold; }\n  .dracula-theme-from-intellij .mtk5 { color: #808080; }\n  .dracula-theme-from-intellij .mtk6 { color: #CC7832; }\n  .dracula-theme-from-intellij .mtk1 { color: #D4D4D4; }\n  .dracula-theme-from-intellij .mtk12 { color: #FFC66D; }\n  .dracula-theme-from-intellij .mtk15 { color: #A9B7C6; }\n  .dracula-theme-from-intellij .mtk19 { color: #6A8759; }\n  .dracula-theme-from-intellij .mtk13 { color: #9876AA; }\n  .dracula-theme-from-intellij .mtk7 { color: #6897BB; }\n  .dracula-theme-from-intellij .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"}},"pageContext":{"id":"622136ac-933a-5b0f-b7ec-2af057a1ed8c"}},"staticQueryHashes":["1528757306","3159585216","3159585216","3741834850","4209591199","847439237"]}